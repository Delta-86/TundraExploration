@PART[*]:HAS[@TUNDRAPLUME[MerlinPlume]]:FOR[TundraPlume]:NEEDS[SmokeScreen] {
  // TE no longer depends on RealPlume, so the EFFECTS node needs to be cleared by this config
  !EFFECTS {}
  %EFFECTS
  {
    %MerlinPlumeOne {
      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/flarePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/flarePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/flarePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/flareScale$
        //
        name = flare
        modelName = TundraExploration/FX/new/f9flare
        fixedEmissions = false

        energy = 1.0
        speed = 1.0
        logGrow = -0.5

        emission {
          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 1
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/flarePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/flarePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/flarePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/flareScale$
        //
        name = greenFlash
        modelName = TundraExploration/FX/new/f9teateb
        fixedEmissions = false

        energy = 1.0
        speed = 1.0

        emission {
          power = #$@TundraPlume/merlinPowerKeys/startup$ 0
          power = #$@TundraPlume/merlinPowerKeys/flameout$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = plume1
        modelName = TundraExploration/FX/new/f9plume
        fixedEmissions = false

        size = 1
        logGrow = 3
        logGrowScale = 2
        xyForce = 0.9

        emission {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1
          density = #$@TundraPlume/atmosphereKeys/key1$ 2.5
          density = #$@TundraPlume/atmosphereKeys/key2$ 4
          density = #$@TundraPlume/atmosphereKeys/key3$ 2

          power = #$@TundraPlume/merlinPowerKeys/flameout$ 0
          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.0
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1
          density = #$@TundraPlume/atmosphereKeys/key1$ 0.6
          density = #$@TundraPlume/atmosphereKeys/key2$ 0.6
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.3

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 1.0
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key1$ 1
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 1

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 1.5
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.0
        }
        linGrow {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0
          density = #$@TundraPlume/atmosphereKeys/key2$ 2
          density = #$@TundraPlume/atmosphereKeys/key3$ 4

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ -4.5
        }
        randConeEmit {
          density = #$@TundraPlume/atmosphereKeys/key0$ 0
          density = #$@TundraPlume/atmosphereKeys/key1$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key2$ 2
        }
        zForce {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1
          density = #$@TundraPlume/atmosphereKeys/key1$ 1.1
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.1
          density = #$@TundraPlume/atmosphereKeys/key3$ 1
        }

        // key 5
        // energy = 0.5
        // randConeEmit = 2
        // linGrow = 5
        // speed = 1
        // emission {
        //   power = 0 0
        //   power = 1 2
        // }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = plume2
        modelName = TundraExploration/FX/new/f9plume
        fixedEmissions = false

        emission = 1
        energy = 0.7
        size = 1
        logGrow = 3
        logGrowScale = 2
        randConeEmit = 0.1
        zForce = 1.05

        emission {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1
          density = #$@TundraPlume/atmosphereKeys/key1$ 0.3

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 1
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1
          density = #$@TundraPlume/atmosphereKeys/key1$ 1.2
          density = #$@TundraPlume/atmosphereKeys/key2$ 0
        }
        speed {
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.0
        }
        linGrow {
          density = #$@TundraPlume/atmosphereKeys/key0$ -4
          density = #$@TundraPlume/atmosphereKeys/key1$ -1
        }
        offset {
          density = #$@TundraPlume/atmosphereKeys/key0$ 0
          density = #$@TundraPlume/atmosphereKeys/key1$ -1.2

          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 1.2
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 2.5
        }
      }



      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = blaze
        modelName = TundraExploration/FX/new/f9blaze
        fixedEmissions = false

        linGrow = 1
        randConeEmit = 0.1
        emission {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1
          density = #$@TundraPlume/atmosphereKeys/key1$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key2$ 1
          density = #$@TundraPlume/atmosphereKeys/key3$ 0

          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key2$ 1
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.5
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key1$ 4
          density = #$@TundraPlume/atmosphereKeys/key2$ 5
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key0$ 2
          density = #$@TundraPlume/atmosphereKeys/key1$ 4
          density = #$@TundraPlume/atmosphereKeys/key2$ 5
        }
        offset {
          density = #$@TundraPlume/atmosphereKeys/key0$ 5
          density = #$@TundraPlume/atmosphereKeys/key1$ 8.9
          density = #$@TundraPlume/atmosphereKeys/key2$ 13.3
        }
        zForce {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1
          density = #$@TundraPlume/atmosphereKeys/key1$ 1.02
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = flame
        modelName = TundraExploration/FX/new/f9trail
        fixedEmissions = false

        logGrow = 2
        logGrowScale = 1
        randConeEmit = 0.05

        emission {
          density = #$@TundraPlume/atmosphereKeys/key1$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key2$ 1
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.8
          density = #$@TundraPlume/atmosphereKeys/key4$ 0

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.8
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.2
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.75
          density = #$@TundraPlume/atmosphereKeys/key4$ 0.2
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1.4
          density = #$@TundraPlume/atmosphereKeys/key1$ 3
          density = #$@TundraPlume/atmosphereKeys/key2$ 4
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1
          density = #$@TundraPlume/atmosphereKeys/key1$ 2
          density = #$@TundraPlume/atmosphereKeys/key2$ 3
          density = #$@TundraPlume/atmosphereKeys/key3$ 4
        }
        zForce {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1
          density = #$@TundraPlume/atmosphereKeys/key1$ 1.01
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.02
          density = #$@TundraPlume/atmosphereKeys/key3$ 1.03
        }
        linGrow {
          density = #$@TundraPlume/atmosphereKeys/key2$ -1.5
          density = #$@TundraPlume/atmosphereKeys/key3$ -2.2
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$

        //@fixedScale *= 1.35

        name = flareStreak
        modelName = TundraExploration/FX/new/f9vac
        fixedEmissions = false

        energy = 0.6
        speed = 1.5
        offset = 0.3
        linGrow = 0
        zForce = 1.1
        randConeEmit = 0.1
        xyForce = 1.3

        emission {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0
          density = #$@TundraPlume/atmosphereKeys/key2$ 1
          density = #$@TundraPlume/atmosphereKeys/key3$ 2

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1
          density = #$@TundraPlume/atmosphereKeys/key1$ 1.2
        }
        linGrow {
          density = #$@TundraPlume/atmosphereKeys/key0$ 0
          density = #$@TundraPlume/atmosphereKeys/key1$ 8
          density = #$@TundraPlume/atmosphereKeys/key2$ 14
          density = #$@TundraPlume/atmosphereKeys/key3$ 18
        }
      }


      AUDIO
			{
				channel = Ship
				clip = TundraExploration/Soundbank/Ghidorah_rocket
				volume = 0.0 0.0
				volume = 1.0 1.0
				pitch = 0.0 0.2
				pitch = 1.0 1.0
				loop = true
			}
    }
  }
}

@PART[*]:HAS[@TUNDRAPLUME[MerlinPlume]:HAS[#shortIgnition[True]]]:FOR[TundraPlume]:NEEDS[SmokeScreen]
{
  @EFFECTS {
    @MerlinPlumeOne {
      @MODEL_MULTI_SHURIKEN_PERSIST[greenFlash] {
        @energy = 2.0
        %linGrow = 3
        %zForce = 1.1
      }
    }
  }
}

@PART[*]:HAS[@TUNDRAPLUME[MerlinPlume]:HAS[#cluster[True]]]:FOR[TundraPlume]:NEEDS[SmokeScreen]
{
  %EFFECTS
  {
    %MerlinPlumeAll
    {
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[flare] {}
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[greenFlash] {}
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[plume1] {}
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[plume2] {}
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[flareStreak] {}

      @MODEL_MULTI_SHURIKEN_PERSIST[*],* {
        @transformName = #$../../../TUNDRAPLUME[MerlinPlume]/allTransformName$
      }

      @MODEL_MULTI_SHURIKEN_PERSIST[plume1] {
        @emission {
          @density,3 = #$@TundraPlume/atmosphereKeys/key3$ 0.7
        }
        @energy {
          @density,3 = #$@TundraPlume/atmosphereKeys/key3$ 0.6
        }
        @randConeEmit {
          @density,2 = #$@TundraPlume/atmosphereKeys/key2$ 1.5
        }
      }

      @MODEL_MULTI_SHURIKEN_PERSIST[flareStreak] {
        @transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        @fixedScale *= 2.7
        @speed = 2
        @offset = 0.4
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = blaze
        modelName = TundraExploration/FX/new/f9blaze
        fixedEmissions = false

        sizeClamp = 100
        zForce = 1.01

        emission {
          density = #$@TundraPlume/atmosphereKeys/key0$ 0.7
          density = #$@TundraPlume/atmosphereKeys/key1$ 0.5
          density = #$@TundraPlume/atmosphereKeys/key2$ 1
          density = #$@TundraPlume/atmosphereKeys/key3$ 0

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.75
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key1$ 2
          density = #$@TundraPlume/atmosphereKeys/key2$ 4
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.5
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key1$ 1
          density = #$@TundraPlume/atmosphereKeys/key2$ 2.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 8

          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 3
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 3.5
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key1$ 4
          density = #$@TundraPlume/atmosphereKeys/key2$ 10
          density = #$@TundraPlume/atmosphereKeys/key3$ 30
        }
        offset {
          density = #$@TundraPlume/atmosphereKeys/key0$ 0
          density = #$@TundraPlume/atmosphereKeys/key1$ 6
          density = #$@TundraPlume/atmosphereKeys/key2$ 6
          // power = 0 0
          power = 0 6
          power = 1 6
        }
        linGrow {
          density = #$@TundraPlume/atmosphereKeys/key0$ 0.8
          density = #$@TundraPlume/atmosphereKeys/key1$ 1
          density = #$@TundraPlume/atmosphereKeys/key2$ 1
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.2
        }
        randConeEmit {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0.06
          density = #$@TundraPlume/atmosphereKeys/key2$ 0.05
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.03
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = blaze2
        modelName = TundraExploration/FX/octoBlazeRev
        fixedEmissions = false

        energy = 1
        size = 0.5
        linGrow = -0.6
        zForce = 1.01

        emission {
          density = #$@TundraPlume/atmosphereKeys/key0$ 0.75
          density = #$@TundraPlume/atmosphereKeys/key1$ 0

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 1
        }
        speed {
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 1.75
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 3.5
        }
        offset {
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 6
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 12
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = flame
        modelName = TundraExploration/FX/new/f9trail
        fixedEmissions = false

        sizeClamp = 100
        zForce = 1.01

        emission {
          density = #$@TundraPlume/atmosphereKeys/key0$ 2.5
          density = #$@TundraPlume/atmosphereKeys/key1$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.0

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 1.0
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key0$ 2
          density = #$@TundraPlume/atmosphereKeys/key1$ 3
          density = #$@TundraPlume/atmosphereKeys/key2$ 8
          density = #$@TundraPlume/atmosphereKeys/key3$ 40

          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.6
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key0$ 2
          density = #$@TundraPlume/atmosphereKeys/key1$ 3
          density = #$@TundraPlume/atmosphereKeys/key2$ 8
          density = #$@TundraPlume/atmosphereKeys/key3$ 10
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key1$ 1
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.2
        }
        linGrow {
          density = #$@TundraPlume/atmosphereKeys/key1$ -0.5
          density = #$@TundraPlume/atmosphereKeys/key2$ -0.3
        }
        offset {
          density = #$@TundraPlume/atmosphereKeys/key1$ 2
          density = #$@TundraPlume/atmosphereKeys/key2$ 6
        }
        randConeEmit {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0.05
          density = #$@TundraPlume/atmosphereKeys/key2$ 0.04
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = flameRed
        modelName = TundraExploration/FX/new/f9trailred
        fixedEmissions = false

        sizeClamp = 100
        zForce = 1.01

        emission {
          density = #$@TundraPlume/atmosphereKeys/key2$ 0
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.8
          density = #$@TundraPlume/atmosphereKeys/key4$ 0.0

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 1
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key2$ 8
          density = #$@TundraPlume/atmosphereKeys/key3$ 40

          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.6
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.0
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key2$ 20
          density = #$@TundraPlume/atmosphereKeys/key3$ 50
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key2$ 0.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 1.5
        }
        linGrow = -0.2
        offset = 18
        randConeEmit = 0.05
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = flameBlue
        modelName = TundraExploration/FX/new/f9trailblue
        fixedEmissions = false

        sizeClamp = 100
        zForce = 1.01

        emission {
          density = #$@TundraPlume/atmosphereKeys/key2$ 0
          density = #$@TundraPlume/atmosphereKeys/key3$ 1
          density = #$@TundraPlume/atmosphereKeys/key4$ 1
          density = #$@TundraPlume/atmosphereKeys/key5$ 0

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 1.0
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key4$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key5$ 0.5
        }
        speed {
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 12
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 20
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key2$ 10
          density = #$@TundraPlume/atmosphereKeys/key3$ 40
        }
        linGrow = -0.6
        offset = 6
        randConeEmit {
          density = #$@TundraPlume/atmosphereKeys/key4$ 0.04
          density = #$@TundraPlume/atmosphereKeys/key5$ 0.1
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = radialLow
        modelName = TundraExploration/FX/new/f9radialthicc
        fixedEmissions = false

        sizeClamp = 100

        emission {
          density = #$@TundraPlume/atmosphereKeys/key0$ 1
          density = #$@TundraPlume/atmosphereKeys/key1$ 2
          density = #$@TundraPlume/atmosphereKeys/key2$ 3
          density = #$@TundraPlume/atmosphereKeys/key3$ 0

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.6
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key0$ 0.5
          density = #$@TundraPlume/atmosphereKeys/key1$ 1
          density = #$@TundraPlume/atmosphereKeys/key2$ 1
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.7

          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.35
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 0.45
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key1$ 3
          density = #$@TundraPlume/atmosphereKeys/key2$ 9
          density = #$@TundraPlume/atmosphereKeys/key3$ 12
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key1$ 2.5
          density = #$@TundraPlume/atmosphereKeys/key2$ 5
        }
        logGrow {
          density = #$@TundraPlume/atmosphereKeys/key0$ 0
          density = #$@TundraPlume/atmosphereKeys/key1$ 6
          density = #$@TundraPlume/atmosphereKeys/key2$ 12
        }
        logGrowScale {
          density = #$@TundraPlume/atmosphereKeys/key2$ 2
          density = #$@TundraPlume/atmosphereKeys/key3$ 4
        }
        linGrow {
          density = #$@TundraPlume/atmosphereKeys/key0$ 0
          density = #$@TundraPlume/atmosphereKeys/key1$ -3
          density = #$@TundraPlume/atmosphereKeys/key2$ -4
          density = #$@TundraPlume/atmosphereKeys/key3$ 8
        }
        offset {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0
          density = #$@TundraPlume/atmosphereKeys/key2$ 2
          density = #$@TundraPlume/atmosphereKeys/key3$ 5
        }
        zForce {
          density = #$@TundraPlume/atmosphereKeys/key1$ 1.02
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.04
          density = #$@TundraPlume/atmosphereKeys/key3$ 1.06
        }
        randConeEmit {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0.05
          density = #$@TundraPlume/atmosphereKeys/key2$ 0.2
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.2
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = radialHigh
        modelName = TundraExploration/FX/new/f9radial
        fixedEmissions = false

        sizeClamp = 100
        energy = 0.7

        emission {
          density = #$@TundraPlume/atmosphereKeys/key2$ 0
          density = #$@TundraPlume/atmosphereKeys/key3$ 2

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.75
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.0
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key2$ 1
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.7
          density = #$@TundraPlume/atmosphereKeys/key4$ 0.7
          density = #$@TundraPlume/atmosphereKeys/key5$ 0.5

          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.0
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key2$ 9
          density = #$@TundraPlume/atmosphereKeys/key3$ 12
        }
        size = 5
        logGrow = 18
        logGrowScale {
          density = #$@TundraPlume/atmosphereKeys/key2$ 2
          density = #$@TundraPlume/atmosphereKeys/key3$ 4
        }
        linGrow {
          density = #$@TundraPlume/atmosphereKeys/key2$ -6
          density = #$@TundraPlume/atmosphereKeys/key3$ 8
        }
        offset {
          density = #$@TundraPlume/atmosphereKeys/key2$ 2
          density = #$@TundraPlume/atmosphereKeys/key3$ 5
        }
        zForce {
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.04
          density = #$@TundraPlume/atmosphereKeys/key3$ 1.06
        }
        randConeEmit {
          density = #$@TundraPlume/atmosphereKeys/key2$ 0.1
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.2
          density = #$@TundraPlume/atmosphereKeys/key4$ 0.2
          //density = #$@TundraPlume/atmosphereKeys/key5$ 0.4
          density = #$@TundraPlume/atmosphereKeys/key5$ 0.2
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = radialBlue
        modelName = TundraExploration/FX/new/f9radialblue
        fixedEmissions = false

        sizeClamp = 100
        energy = 0.7

        emission {
          density = #$@TundraPlume/atmosphereKeys/key2$ 0
          //density = #$@TundraPlume/atmosphereKeys/key3$ 2
          density = #$@TundraPlume/atmosphereKeys/key3$ 1

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.75
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.0
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key2$ 1
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.7
          density = #$@TundraPlume/atmosphereKeys/key4$ 0.7
          density = #$@TundraPlume/atmosphereKeys/key5$ 0.5

          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key2$ 9
          density = #$@TundraPlume/atmosphereKeys/key3$ 12
        }
        size = 5
        logGrow = 18
        logGrowScale {
          density = #$@TundraPlume/atmosphereKeys/key2$ 2
          density = #$@TundraPlume/atmosphereKeys/key3$ 3
        }
        linGrow {
          density = #$@TundraPlume/atmosphereKeys/key2$ -6
          density = #$@TundraPlume/atmosphereKeys/key3$ 8
        }
        offset {
          density = #$@TundraPlume/atmosphereKeys/key2$ 2
          density = #$@TundraPlume/atmosphereKeys/key3$ 5
        }
        zForce {
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.04
          density = #$@TundraPlume/atmosphereKeys/key3$ 1.05
        }
        randConeEmit {
          density = #$@TundraPlume/atmosphereKeys/key2$ 0.1
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.25
          density = #$@TundraPlume/atmosphereKeys/key4$ 0.25
          //density = #$@TundraPlume/atmosphereKeys/key5$ 0.4
          density = #$@TundraPlume/atmosphereKeys/key5$ 0.2
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = bigShoq
        modelName = TundraExploration/FX/new/f9mach
        fixedEmissions = false

        emission {
          density = #$@TundraPlume/atmosphereKeys/key0$ 0
          density = #$@TundraPlume/atmosphereKeys/key1$ 3
          density = #$@TundraPlume/atmosphereKeys/key2$ 3
          density = #$@TundraPlume/atmosphereKeys/key3$ 0

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.0
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 5
        }
        energy {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0.7
          density = #$@TundraPlume/atmosphereKeys/key2$ 0.8
        }
        offset {
          density = #$@TundraPlume/atmosphereKeys/key1$ 3.5 -10 0
          density = #$@TundraPlume/atmosphereKeys/key2$ 14 0 -100
          density = #$@TundraPlume/atmosphereKeys/key3$ 30 0  -200
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key1$ 1
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 5
        }
        linGrow {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0.5
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 2
        }
        zForce {
          density = #$@TundraPlume/atmosphereKeys/key1$ 1.05
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.07
        }
        randConeEmit {
          density = #$@TundraPlume/atmosphereKeys/key2$ 0
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.4
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = blueShoq
        modelName = TundraExploration/FX/new/f9machblue
        fixedEmissions = false

        emission {
          density = #$@TundraPlume/atmosphereKeys/key2$ 0
          density = #$@TundraPlume/atmosphereKeys/key3$ 1.2
          density = #$@TundraPlume/atmosphereKeys/key4$ 1.2
          density = #$@TundraPlume/atmosphereKeys/key5$ 0

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.0
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 5
        }
        energy = 0.8
        offset {
          density = #$@TundraPlume/atmosphereKeys/key2$ 14
          density = #$@TundraPlume/atmosphereKeys/key3$ 30
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 5
        }
        linGrow {
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 2
        }
        zForce = 1.07
        randConeEmit {
          density = #$@TundraPlume/atmosphereKeys/key2$ 0
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.3
        }
      }

      AUDIO
			{
				channel = Ship
				clip = TundraExploration/Soundbank/Ghidorah_rocket
				volume = 0.0 0.0
				volume = 1.0 1.5
				pitch = 0.0 0.2
				pitch = 1.0 1.0
				loop = true
			}
    }

    %MerlinPlumeThree {
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[flare] {}
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[greenFlash] {}
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[plume1] {}
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[plume2] {}
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[flame] {}
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[blaze] {}
      #../MerlinPlumeOne/MODEL_MULTI_SHURIKEN_PERSIST[flareStreak] {}

      @MODEL_MULTI_SHURIKEN_PERSIST[*],* {
        @transformName = #$../../../TUNDRAPLUME[MerlinPlume]/threeTransformName$
      }

      @MODEL_MULTI_SHURIKEN_PERSIST[blaze] {
        @transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        @fixedScale *= 2
        @emission {
          @density,1 = #$@TundraPlume/atmosphereKeys/key1$ 0
          @density,2 = #$@TundraPlume/atmosphereKeys/key2$ 0
          @density,3 = #$@TundraPlume/atmosphereKeys/key3$ 0
        }
        !offset {}
        offset = 1.48
      }

      @MODEL_MULTI_SHURIKEN_PERSIST[flame] {
        @emission {
          -density = DELETE
          density = #$@TundraPlume/atmosphereKeys/key0$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key1$ 0
        }
      }

      @MODEL_MULTI_SHURIKEN_PERSIST[flareStreak] {
        @transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        @fixedScale *= 2.3//1.35
        @offset = 0.34

        energy {
          density = #$@TundraPlume/atmosphereKeys/key4$ 0.33
          density = #$@TundraPlume/atmosphereKeys/key5$ 1
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$

        name = smoke
        modelName = TundraExploration/FX/new/f9smokewhite
        fixedEmissions = false
        size = 3
        speed = 6
        randConeEmit = 2
        linGrow = 8
        zForce = 1.05
        energy
        {
          density = #$@TundraPlume/atmosphereKeys/key4$ 0.3
          density = #$@TundraPlume/atmosphereKeys/key5$ 0.7
        }
        emission
        {
          density = #$@TundraPlume/atmosphereKeys/key4$ 0
          density = #$@TundraPlume/atmosphereKeys/key5$ 4

          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/oneTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$

        @localRotation[1] = 180

        name = reentrySmoke
        modelName = TundraExploration/FX/new/f9smokewhite
        fixedEmissions = false

        randConeEmit = 2
        xyForce = 0.9
        linGrow = 1
        zForce = 1.1
        energy {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0.6
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.2
          density = #$@TundraPlume/atmosphereKeys/key3$ 1.2
          density = #$@TundraPlume/atmosphereKeys/key4$ 0.6
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key1$ 4
          density = #$@TundraPlume/atmosphereKeys/key2$ 6
          density = #$@TundraPlume/atmosphereKeys/key3$ 8
        }
        speed {
          density = #$@TundraPlume/atmosphereKeys/key2$ 5
          density = #$@TundraPlume/atmosphereKeys/key3$ 8
        }
        emission {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0
          density = #$@TundraPlume/atmosphereKeys/key2$ 3
          density = #$@TundraPlume/atmosphereKeys/key3$ 3
          density = #$@TundraPlume/atmosphereKeys/key4$ 0

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.2
        }
        offset {
          density = #$@TundraPlume/atmosphereKeys/key1$ 3
          density = #$@TundraPlume/atmosphereKeys/key2$ 2
          density = #$@TundraPlume/atmosphereKeys/key3$ 1
          density = #$@TundraPlume/atmosphereKeys/key4$ 0

          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1
        }
      }

      MODEL_MULTI_SHURIKEN_PERSIST
      {
        //Get the inputs from the other config.
        transformName = #$../../../TUNDRAPLUME[MerlinPlume]/threeTransformName$
        localRotation = #$../../../TUNDRAPLUME[MerlinPlume]/localRotation[0]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[1]$,$../../../TUNDRAPLUME[MerlinPlume]/localRotation[2]$
        localPosition = #$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[0]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[1]$,$../../../TUNDRAPLUME[MerlinPlume]/plumePosition[2]$
        fixedScale    = #$../../../TUNDRAPLUME[MerlinPlume]/plumeScale$
        //
        name = reentryPlume
        modelName = TundraExploration/FX/new/f9plume
        fixedEmissions = false

        @localRotation[1] = 180

        randConeEmit = 3
        linGrow = 5
        speed = 2
        zForce = 1.1

        energy {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0.3
          density = #$@TundraPlume/atmosphereKeys/key2$ 0.8
          density = #$@TundraPlume/atmosphereKeys/key3$ 0.8
          density = #$@TundraPlume/atmosphereKeys/key4$ 0.3
        }
        offset {
          density = #$@TundraPlume/atmosphereKeys/key1$ 5
          density = #$@TundraPlume/atmosphereKeys/key2$ 4
          density = #$@TundraPlume/atmosphereKeys/key3$ 3
          density = #$@TundraPlume/atmosphereKeys/key4$ 2

          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1
        }
        emission {
          density = #$@TundraPlume/atmosphereKeys/key1$ 0
          density = #$@TundraPlume/atmosphereKeys/key2$ 2
          density = #$@TundraPlume/atmosphereKeys/key3$ 2
          density = #$@TundraPlume/atmosphereKeys/key4$ 0

          power = #$@TundraPlume/merlinPowerKeys/ignition$ 0
          power = #$@TundraPlume/merlinPowerKeys/deepThrottle$ 0.5
          power = #$@TundraPlume/merlinPowerKeys/maxThrottle$ 1.2
        }
        xyForce {
          density = #$@TundraPlume/atmosphereKeys/key2$ 0.95
          density = #$@TundraPlume/atmosphereKeys/key3$ 1
        }
        size {
          density = #$@TundraPlume/atmosphereKeys/key2$ 1.5
          density = #$@TundraPlume/atmosphereKeys/key3$ 2
        }
      }

      AUDIO
			{
				channel = Ship
				clip = TundraExploration/Soundbank/Ghidorah_rocket
				volume = 0.0 0.0
				volume = 1.0 1.0
				pitch = 0.0 0.2
				pitch = 1.0 1.0
				loop = true
			}
    }
  }
}

@PART[*]:HAS[@TUNDRAPLUME[MerlinPlume]:HAS[#cluster[True],#small[True]]]:FOR[TundraPlume]:NEEDS[SmokeScreen]
{
  @EFFECTS {
    @MerlinPlumeAll {
      @MODEL_MULTI_SHURIKEN_PERSIST[radialHigh] {
        @modelName = TundraExploration/FX/new/f9radial2
      }
      !MODEL_MULTI_SHURIKEN_PERSIST[flameBlue] {}
      !MODEL_MULTI_SHURIKEN_PERSIST[flameRed] {}
      !MODEL_MULTI_SHURIKEN_PERSIST[blueShoq] {}
      !MODEL_MULTI_SHURIKEN_PERSIST[radialBlue] {}
    }
  }
}

@PART[*]:HAS[@TUNDRAPLUME[MerlinPlume],@EFFECTS:HAS[!engage]]:FOR[TundraPlume]:NEEDS[SmokeScreen]
{
  @EFFECTS
  {
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_soft
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    disengage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_soft
        volume = 0.7
        pitch = 1.4
        loop = false
      }
    }
    flameout
    {
      PREFAB_PARTICLE
      {
        prefabName = fx_exhaustSparks_flameout_2
        transformName = smokePoint
        oneShot = true
      }
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
  }
}
