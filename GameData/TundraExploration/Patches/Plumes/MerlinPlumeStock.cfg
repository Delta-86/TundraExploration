@PART[*]:HAS[@PLUME[MerlinPlumeStock]]:AFTER[zRealPlume]:NEEDS[SmokeScreen]
{
    %EFFECTS
    {
        %MerlinPlumeAll
        {
          MODEL_MULTI_SHURIKEN_PERSIST
          {
            //Get the inputs from the other config.
            transformName = #$../../../PLUME[MerlinPlumeStock]/transformName$//thrustTransform
            localRotation = #$../../../PLUME[MerlinPlumeStock]/localRotation[0]$,$../../../PLUME[MerlinPlumeStock]/localRotation[1]$,$../../../PLUME[MerlinPlumeStock]/localRotation[2]$
            localPosition = #$../../../PLUME[MerlinPlumeStock]/plumePosition[0]$,$../../../PLUME[MerlinPlumeStock]/plumePosition[1]$,$../../../PLUME[MerlinPlumeStock]/plumePosition[2]$
            fixedScale    = #$../../../PLUME[MerlinPlumeStock]/plumeScale$
            energy        = #$../../../PLUME[MerlinPlumeStock]/energy$
            speed         = #$../../../PLUME[MerlinPlumeStock]/speed$
            emissionMult  = #$../../../PLUME[MerlinPlumeStock]/emissionMult$

            @fixedScale *= 0.5
            @emissionMult *= 1.5

            //
            name = plume
            modelName = RealPlume/MP_Nazari_FX/KWbooster //TundraExploration/FX/F9shock

            randConeEmit
            {
              density = 0.6 0
              density = 0.45 1
              density = 0.1 3
              density = 0.004 5
            }
            xyForce
            {
              density = 0.6 1
              density = 0.45 0.85
              density = 0.1 0.9
              density = 0.004 0.96
            }
            zForce = 1.02
            linGrow
            {
              density = 0.6 0
              density = 0.45 1
              density = 0.1 2
              density = 0.004 6
            }
            size
            {
              density = 0.6 1
              density = 0.45 1.5
            }
            emission
            {
              power = 0 0
              power = 0.4 1
              density = 0.6 1
              density = 0.45 0.8
              density = 0.1 1.5
            }
            energy
            {
              density = 0.6 1.5
              density = 0.45 1.3
              density = 0.1 1.3
              density = 0.004 0.2
            }
            speed
            {
              power = 0 0
              power = 1 2
              density = 0.6 1.2
              density = 0.45 1.8
              density = 0.1 5
              density = 0.004 2
            }
          }
          MODEL_MULTI_SHURIKEN_PERSIST
          {
              //Get the inputs from the other config.
              transformName = #$../../../PLUME[MerlinPlumeStock]/transformNameOne$//centerTransform
              localRotation = #$../../../PLUME[MerlinPlumeStock]/localRotation[0]$,$../../../PLUME[MerlinPlumeStock]/localRotation[1]$,$../../../PLUME[MerlinPlumeStock]/localRotation[2]$
              localPosition = #$../../../PLUME[MerlinPlumeStock]/flarePosition[0]$,$../../../PLUME[MerlinPlumeStock]/flarePosition[1]$,$../../../PLUME[MerlinPlumeStock]/flarePosition[2]$
              fixedScale    = #$../../../PLUME[MerlinPlumeStock]/flareScale$

              @fixedScale *= 1.14
              %energy = 1.2
              %emissionMult = 3

              //
              name = flare
              modelName = TundraExploration/FX/F9blazesuperthicc

              offset
              {
                density = 0.6 0
                density = 0.45 2
                density = 0.1 4
                density = 0.004 0
              }
              size
              {
                density = 0.6 0.7
                density = 0.45 1.2
                density = 0.1 5
                //density = 0.01 4
                //density = 0.004 1
                density = 0.01 0
              }
              linGrow
              {
                density = 0.6 0
                density = 0.45 -0.2
                density = 0.1 -0.5
              }
              speed
              {
                power = 0.0 0.4
                power = 1.0 2.0
                density = 0.6 1
                density = 0.45 1.2
                density = 0.1 4
                density = 0.01 0
                // density = 0.01 3
                // density = 0.004 1
              }
              emission
              {
                power = 0 0.0
        				power = 1 2.0
                density = 0.6 1
                density = 0.45 1
                density = 0.1 1.5
                density = 0.01 0
                // density = 0.01 1
                // density = 0.004 0
              }
              energy
              {
                density = 0.1 1
                density = 0.01 0
                // density = 0.01 0.2
                // density = 0.004 0
              }
          }
          MODEL_MULTI_SHURIKEN_PERSIST
          {
              //Get the inputs from the other config.
              transformName = #$../../../PLUME[MerlinPlumeStock]/transformName$//thrustTransform
              localRotation = #$../../../PLUME[MerlinPlumeStock]/localRotation[0]$,$../../../PLUME[MerlinPlumeStock]/localRotation[1]$,$../../../PLUME[MerlinPlumeStock]/localRotation[2]$
              localPosition = #$../../../PLUME[MerlinPlumeStock]/plumePosition[0]$,$../../../PLUME[MerlinPlumeStock]/plumePosition[1]$,$../../../PLUME[MerlinPlumeStock]/plumePosition[2]$
              fixedScale    = #$../../../PLUME[MerlinPlumeStock]/plumeScale$
              emissionMult  = #$../../../PLUME[MerlinPlumeStock]/emissionMult$
              //
              name = plumeboundary
              modelName = RealPlume/Hoojiwana_FX/MPspike

              @fixedScale *= 0.71

              fixedEmissions = false
              sizeClamp = 50

              randConeEmit
              {
                density = 0.1 2
                density = 0.004 4
              }
              xyForce = 0.96
              linGrow = 3
              energy = 1.5
              speed = 2

              energy
              {
                density = 0.1 0
                density = 0.004 1
              }
              emission
              {
                power = 0 0
                power = 0.4 1
                density = 0.1 0
                density = 0.004 1
              }
          }

          AUDIO
          {
              channel = Ship
              clip = TundraExploration/Soundbank/Ghidorah_rocket
      				volume = 0.0 0.0
      				volume = 1.0 1.5
      				pitch = 0.0 0.2
      				pitch = 1.0 1.0
      				loop = true
          }
        }
        %MerlinPlumeThree
        {
          MODEL_MULTI_SHURIKEN_PERSIST
          {
            //Get the inputs from the other config.
            transformName = #$../../../PLUME[MerlinPlumeStock]/transformNameThree$//threeTransform
            localRotation = #$../../../PLUME[MerlinPlumeStock]/localRotation[0]$,$../../../PLUME[MerlinPlumeStock]/localRotation[1]$,$../../../PLUME[MerlinPlumeStock]/localRotation[2]$
            localPosition = #$../../../PLUME[MerlinPlumeStock]/plumePosition[0]$,$../../../PLUME[MerlinPlumeStock]/plumePosition[1]$,$../../../PLUME[MerlinPlumeStock]/plumePosition[2]$
            fixedScale    = #$../../../PLUME[MerlinPlumeStock]/plumeScale$
            energy        = #$../../../PLUME[MerlinPlumeStock]/energy$
            speed         = #$../../../PLUME[MerlinPlumeStock]/speed$
            emissionMult  = #$../../../PLUME[MerlinPlumeStock]/emissionMult$

            @fixedScale *= 0.5
            @emissionMult *= 1.5
            offset = 0.3

            //
            name = plume
            modelName = RealPlume/MP_Nazari_FX/KWbooster //TundraExploration/FX/F9shock

            randConeEmit
            {
              density = 0.6 0
              density = 0.45 1
              density = 0.1 3
              density = 0.004 5
            }
            xyForce
            {
              density = 0.6 1
              density = 0.45 0.85
              density = 0.1 0.9
              density = 0.004 0.96
            }
            linGrow
            {
              density = 0.6 0
              density = 0.45 1
              density = 0.1 2
              density = 0.004 6
            }
            size
            {
              density = 0.6 1
              density = 0.45 1.5
            }
            emission
            {
              power = 0 0
              power = 0.4 1
              density = 0.6 1
              density = 0.45 0.8
              density = 0.1 1.5
            }
            energy
            {
              density = 0.6 1.5
              density = 0.45 1.3
              density = 0.1 1.3
              density = 0.004 0.2
            }
            speed
            {
              power = 0 0
              power = 1 2
              density = 0.6 1
              density = 0.45 1.5
              density = 0.1 3
              density = 0.004 2
            }
          }
          MODEL_MULTI_SHURIKEN_PERSIST
          {
              //Get the inputs from the other config.
              transformName = #$../../../PLUME[MerlinPlumeStock]/transformNameOne$//centerTransform
              localRotation = #$../../../PLUME[MerlinPlumeStock]/localRotation[0]$,$../../../PLUME[MerlinPlumeStock]/localRotation[1]$,$../../../PLUME[MerlinPlumeStock]/localRotation[2]$
              localPosition = #$../../../PLUME[MerlinPlumeStock]/flarePosition[0]$,$../../../PLUME[MerlinPlumeStock]/flarePosition[1]$,$../../../PLUME[MerlinPlumeStock]/flarePosition[2]$
              fixedScale    = #$../../../PLUME[MerlinPlumeStock]/flareScale$

              @fixedScale *= 1.14
              %energy = 1.2
              %emissionMult = 3

              //
              name = flare
              modelName = TundraExploration/FX/F9blazesuperthicc

              offset
              {
                density = 0.6 0
                density = 0.45 2
                density = 0.1 2
                density = 0.004 0
              }
              size
              {
                density = 0.6 0.7
                density = 0.45 1.2
                density = 0.1 5
                //density = 0.01 4
                //density = 0.004 1
                density = 0.01 0
              }
              linGrow
              {
                density = 0.6 0
                density = 0.45 -0.2
                density = 0.1 -0.5
              }
              speed
              {
                power = 0.0 0.4
                power = 1.0 2.0
                density = 0.6 1
                density = 0.45 1.2
                density = 0.1 4
                density = 0.01 0
                // density = 0.01 3
                // density = 0.004 1
              }
              emission
              {
                power = 0 0.0
        				power = 1 2.0
                density = 0.6 1
                density = 0.45 1
                density = 0.1 1.5
                density = 0.01 0
                // density = 0.01 1
                // density = 0.004 0
              }
              energy
              {
                density = 0.1 1
                density = 0.01 0
                // density = 0.01 0.2
                // density = 0.004 0
              }
          }
          MODEL_MULTI_SHURIKEN_PERSIST
          {
              //Get the inputs from the other config.
              transformName = #$../../../PLUME[MerlinPlumeStock]/transformNameThree$//threeTransform
              localRotation = #$../../../PLUME[MerlinPlumeStock]/localRotation[0]$,$../../../PLUME[MerlinPlumeStock]/localRotation[1]$,$../../../PLUME[MerlinPlumeStock]/localRotation[2]$
              localPosition = #$../../../PLUME[MerlinPlumeStock]/plumePosition[0]$,$../../../PLUME[MerlinPlumeStock]/plumePosition[1]$,$../../../PLUME[MerlinPlumeStock]/plumePosition[2]$
              fixedScale    = #$../../../PLUME[MerlinPlumeStock]/plumeScale$
              emissionMult  = #$../../../PLUME[MerlinPlumeStock]/emissionMult$
              //
              name = plumeboundary
              modelName = RealPlume/Hoojiwana_FX/MPspike

              @fixedScale *= 0.71

              fixedEmissions = false
              sizeClamp = 50

              randConeEmit
              {
                density = 0.1 2
                density = 0.004 4
              }
              xyForce = 0.96
              linGrow = 3
              energy = 1.5
              speed = 2

              energy
              {
                density = 0.1 0
                density = 0.004 1
              }
              emission
              {
                power = 0 0
                power = 0.4 1
                density = 0.1 0
                density = 0.004 1
              }
          }

          AUDIO
          {
              channel = Ship
              clip = TundraExploration/Soundbank/Ghidorah_rocket
              volume = 0.0 0.0
              volume = 1.0 1.5
              pitch = 0.0 0.2
              pitch = 1.0 1.0
              loop = true
          }
        }
        %MerlinPlumeOne
        {
          MODEL_MULTI_SHURIKEN_PERSIST
          {
            //Get the inputs from the other config.
            transformName = #$../../../PLUME[MerlinPlumeStock]/transformNameOne$//centerTransform
            localRotation = #$../../../PLUME[MerlinPlumeStock]/localRotation[0]$,$../../../PLUME[MerlinPlumeStock]/localRotation[1]$,$../../../PLUME[MerlinPlumeStock]/localRotation[2]$
            localPosition = #$../../../PLUME[MerlinPlumeStock]/plumePosition[0]$,$../../../PLUME[MerlinPlumeStock]/plumePosition[1]$,$../../../PLUME[MerlinPlumeStock]/plumePosition[2]$
            fixedScale    = #$../../../PLUME[MerlinPlumeStock]/plumeScale$
            energy        = #$../../../PLUME[MerlinPlumeStock]/energy$
            speed         = #$../../../PLUME[MerlinPlumeStock]/speed$
            emissionMult  = #$../../../PLUME[MerlinPlumeStock]/emissionMult$

            @fixedScale *= 0.5
            @emissionMult *= 1.5

            name = plume
            modelName = RealPlume/MP_Nazari_FX/KWbooster //TundraExploration/FX/F9shock

            randConeEmit
            {
              density = 0.6 0
              density = 0.45 1
              density = 0.1 3
              density = 0.004 5
            }
            xyForce
            {
              density = 0.6 1
              density = 0.45 0.85
              density = 0.1 0.9
              density = 0.004 0.96
            }
            linGrow
            {
              density = 0.6 0
              density = 0.45 1
              density = 0.1 2
              density = 0.004 6
            }
            size
            {
              density = 0.6 1
              density = 0.45 1.5
            }
            emission
            {
              power = 0 0
              power = 0.4 1
              density = 0.6 1
              density = 0.45 0.8
              density = 0.1 1.5
            }
            energy
            {
              density = 0.6 1.5
              density = 0.45 1.3
              density = 0.1 1.3
              density = 0.004 0.2
            }
            speed
            {
              power = 0 0
              power = 1 2
              density = 0.6 1
              density = 0.45 1.5
              density = 0.1 3
              density = 0.004 2
            }
          }
          MODEL_MULTI_SHURIKEN_PERSIST
          {
              //Get the inputs from the other config.
              transformName = #$../../../PLUME[MerlinPlumeStock]/transformNameOne$//centerTransform
              localRotation = #$../../../PLUME[MerlinPlumeStock]/localRotation[0]$,$../../../PLUME[MerlinPlumeStock]/localRotation[1]$,$../../../PLUME[MerlinPlumeStock]/localRotation[2]$
              localPosition = #$../../../PLUME[MerlinPlumeStock]/flarePosition[0]$,$../../../PLUME[MerlinPlumeStock]/flarePosition[1]$,$../../../PLUME[MerlinPlumeStock]/flarePosition[2]$
              fixedScale    = #$../../../PLUME[MerlinPlumeStock]/flareScale$

              @fixedScale *= 0.9
              %emissionMult = 2

              //
              name = flare
              modelName = TundraExploration/FX/F9blazetang
      				emission = 0.0 0.0
      				emission = 1.0 2.0
      				speed = 0.0 0.3
      				speed = 1.0 0.8

              randomInitalVelocityOffsetMaxRadius = 0
          }
          AUDIO
          {
              channel = Ship
              clip = TundraExploration/Soundbank/Ghidorah_rocket
      				volume = 0.0 0.0
      				volume = 1.0 1.5
      				pitch = 0.0 0.2
      				pitch = 1.0 1.0
      				loop = true
          }
        }
    }
}
@PART[*]:HAS[@PLUME[MerlinPlumeStock],@EFFECTS:HAS[!engage]]:AFTER[zRealPlume]:NEEDS[SmokeScreen]
{
    @EFFECTS
    {
        engage
        {
            AUDIO
            {
                channel = Ship
                clip = RealPlume/KW_Sounds/sound_liq10
                volume = #$../../../PLUME[MerlinPlumeStock]/plumeScale$
                pitch = 1.0
                loop = false
            }
        }
        disengage
        {
            AUDIO
            {
                channel = Ship
                clip = sound_vent_soft
                volume = 1.0
                pitch = 2.0
                loop = false
            }
        }
        flameout
        {
            AUDIO
            {
                channel = Ship
                clip = sound_explosion_low
                volume = 1.0
                pitch = 2.0
                loop = false
            }
        }
    }
}
